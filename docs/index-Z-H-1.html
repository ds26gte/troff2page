<!DOCTYPE html>
<html>
<!--
Generated from index.ms by troff2page, v. 20190930
Copyright (C) 2003-2019 Dorai Sitaram
(running on Lua 5.3)
http://ds26gte.github.io/troff2page
-->
<head>
<meta charset="utf-8">
<title>
troff2page
</title>
<link rel="stylesheet" href="index-Z-S.css" title=default>
<link rel="stylesheet" href="default.css" title=default>
<meta name=robots content="index,follow">
</head>
<body>
<div>
<div align=right class=navigation><i>[Go to <span><a class=hrefinternal href="index.html"><span class=hreftext>first</span></a>, <a class=hrefinternal href="index.html"><span class=hreftext>previous</span></a></span><span>, <a class=hrefinternal href="index-Z-H-2.html"><span class=hreftext>next</span></a></span> page<span>; &#xa0;&#xa0;</span><span><a class=hrefinternal href="index.html#TAG:__troff2page_toc"><span class=hreftext>contents</span></a></span><span><span>; &#xa0;&#xa0;</span><a class=hrefinternal href="index-Z-H-10.html#TAG:__troff2page_index"><span class=hreftext>index</span></a></span>]</i></div>
<h1 style="font-size: 160%"><a name="TAG:__pca_sec_1"></a>
1. Introduction</h1>
<p>
<a name="TAG:__troff2page_index_1"></a>
<span style="font-family: monospace; ">troff2page</span> is a <a href="https://www.lua.org"><span class=hreftext>Lua</span></a> script that
converts troff (man and ms) documents into HTML web pages. First,
ensure that the script <span style="font-family: monospace; ">troff2page</span> is in a directory in your
<span style="font-family: monospace; ">PATH</span>.

</p>
<p class=indent>
<a name="TAG:html-output"></a>
<a name="TAG:__troff2page_index_2"></a>
To convert an input troff document named <span style="font-family: monospace; ">jobname.ms</span>, use
the script <span style="font-family: monospace; ">troff2page</span> on the operating-system command line.

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;&#xa0;&#xa0;troff2page&#xa0;jobname.ms<br>
<p>
</p>
</span><p>

</p>
<p class=indent>
at your operating-system prompt.  This creates an output HTML file
<span style="font-family: monospace; ">jobname.html</span> in the current directory.  (This HTML file has the same basename as the
input troff file (i.e., <span style="font-family: monospace; ">jobname</span>), but its extension is
<span style="font-family: monospace; ">.html</span>.)

</p>
<p class=indent>
<a name="TAG:__troff2page_index_3"></a>
If the input troff uses the page-break request
<span style="font-family: monospace; ">.bp</span>,
then the output
HTML consists of a series of interlinked files: The first file is named
<span style="font-family: monospace; ">jobname.html</span>;
the rest are
<span style="font-family: monospace; ">jobname-Z-H-1.html</span>,
<span style="font-family: monospace; ">jobname-Z-H-2.html</span>,
etc.

</p>
<p class=indent>
</p>
<h2 style="font-size: 130%"><a name="TAG:__pca_sec_2"></a>
Commmand-line options</h2>
<p>
<a name="TAG:__troff2page_index_4"></a>
<a name="TAG:__troff2page_index_5"></a>
<a name="TAG:__troff2page_index_6"></a>
<a name="TAG:__troff2page_index_7"></a>
<a name="TAG:__troff2page_index_8"></a>
<a name="TAG:__troff2page_index_9"></a>
<a name="TAG:__troff2page_index_10"></a>
<a name="TAG:__troff2page_index_11"></a>
<a name="TAG:__troff2page_index_12"></a>
<span style="font-family: monospace; ">troff2page</span> takes some, but not all, of the same options as <span style="font-family: monospace; ">groff</span>,
viz.,
<span style="font-family: monospace; ">-v</span> or <span style="font-family: monospace; ">--version</span> to display the version;
<span style="font-family: monospace; ">-h</span> or <span style="font-family: monospace; ">--help</span> to display help;
<span style="font-family: monospace; ">-m</span> to load macro files from <span style="font-family: monospace; ">GROFF_TMAC_PATH</span>;
<span style="font-family: monospace; ">-r</span> to pre-set number registers;
<span style="font-family: monospace; ">-d</span> to pre-define strings; and
<span style="font-family: monospace; ">--</span> to signal the end of options.

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;&#xa0;&#xa0;%&#xa0;troff2page&#xa0;--help<br>
</span><span style="font-style: oblique; font-family: monospace;&#xa0;">&#xa0;&#xa0;&#xa0;&#xa0;troff2page&#xa0;version&#xa0;20190929<br>
&#xa0;&#xa0;&#xa0;&#xa0;Copyright&#xa0;(C)&#xa0;...<br>
&#xa0;&#xa0;&#xa0;&#xa0;Usage:&#xa0;troff2page&#xa0;OPTION&#xa0;...&#xa0;FILE<br>
&#xa0;&#xa0;&#xa0;&#xa0;Available&#xa0;options:&#xa0;...<br>
&#xa0;&#xa0;&#xa0;&#xa0;...<br>
&#xa0;&#xa0;&#xa0;&#xa0;For&#xa0;full&#xa0;details,&#xa0;please&#xa0;see&#xa0;http://ds26gte.github.io/troff2page<br>
<p>
</p>
</span><p>

</p>
<p class=indent>
In the unlikely event that you have a document file named
<span style="font-family: monospace; ">--help</span> (and wish to process it), use

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;&#xa0;&#xa0;%&#xa0;troff2page&#xa0;--&#xa0;--help<br>
<p>
</p>
</span><p>

</p>
<p class=indent>
<a name="TAG:__troff2page_index_13"></a>
<a name="TAG:__troff2page_index_14"></a>
<a name="TAG:__troff2page_index_15"></a>
<span style="font-family: monospace; ">troff2page</span> ignores all other <span style="font-family: monospace; ">groff</span> options, most with a warning.
The options
<span style="font-family: monospace; ">-z</span>, <span style="font-family: monospace; ">-t</span>, and <span style="font-family: monospace; ">-U</span> are silently ignored, as they're always valid
for troff2page.

</p>
<p class=indent>
Macro file options must be given without the suffix <span style="font-family: monospace; ">.tmac</span> or prefix
<span style="font-family: monospace; ">tmac.</span>. Thus, <span style="font-family: monospace; ">-mxyz</span> or <span style="font-family: monospace; ">-m xyz</span> looks for the macro file
<span style="font-family: monospace; ">xyz.tmac</span> or <span style="font-family: monospace; ">tmac.xyz</span>, whichever is found in the macro directories,
and loads it.

</p>
<p class=indent>
If after all the option processing, no file arguments remain, and
the options for help or version were not used,
<span style="font-family: monospace; ">troff2page</span> displays a “could not find” message.

</p>
<p class=indent>
If there is <span style="font-style: italic; ">one</span> file argument, say <span style="font-family: monospace; ">filename.ext</span>,
<span style="font-family: monospace; ">troff2page</span> converts it to <span style="font-family: monospace; ">filename.html</span> (and possibly
some auxiliary HTML files whose names are of form
<span style="font-family: monospace; ">filename-Z-H-number.html</span>).

</p>
<p class=indent>
If there is <span style="font-style: italic; ">more than one</span> file argument, say <span style="font-family: monospace; ">f1.e1, f2.e2, ...
flast.elast</span>, <span style="font-family: monospace; ">troff2page</span> concatenates their content to create a
corresponding HTML version in <span style="font-family: monospace; ">flast.html</span> (and possibly some
aux HTML files <span style="font-family: monospace; ">flast-Z-H-number.html</span>).

</p>
<p class=indent>
If you find you need to specify an option that <span style="font-family: monospace; ">troff2page</span>
doesn't accept, you can always supply it in a macro file via
<span style="font-family: monospace; ">-m</span>.

</p>
<p class=indent>
The options can be varied with each call to <span style="font-family: monospace; ">troff2page</span>, just as
with <span style="font-family: monospace; ">groff</span>. Please see the groff man page
for details on all the provided options.

</p>
<p class=indent>
<a name="TAG:troff2pagerc"></a>
<a name="TAG:__troff2page_index_16"></a>
<a name="TAG:__troff2page_index_17"></a>
<span style="font-family: monospace; ">troff2page</span> can read directives in some autoloaded files
without the need to explicitly use a command-line option. These
are useful to specify information that is relevant only the HTML
output.

</p>
<p class=indent>
The first such file is named
<span style="font-family: monospace; ">.troff2pagerc.tmac</span>, placed in one of your macro directories
(<span style="font-family: monospace; ">GROFF_TMAC_PATH</span>, working directory, home). The working
directory is a good location if your changes are geared to only those
documents that are in that directory.
If your changes will be used in all your documents, place it in
your home or a private <span style="font-family: monospace; ">GROFF_TMAC_PATH</span> directory.
A
more system-level <span style="font-family: monospace; ">GROFF_TMAC_PATH</span> placement is typically
unadvised for such an ad hoc file.

</p>
<p class=indent>
<span style="font-family: monospace; ">troff2page</span> loads the first <span style="font-family: monospace; ">.troff2pagerc.tmac</span> it
finds, if it exists, before processing its main argument file.

</p>
<p class=indent>
<a name="TAG:__troff2page_index_18"></a>
In addition, <span style="font-family: monospace; ">troff2page</span> will also pick up a file
<span style="font-family: monospace; ">jobname.t2p</span>, where <span style="font-family: monospace; ">jobname</span> is the basename of the input document.
This is useful for directives that are specific to a document. Note that the
<span style="font-family: monospace; ">jobname.t2p</span>, unlike <span style="font-family: monospace; ">.troff2pagerc.tmac</span>, is looked for only in the
working directory, and not more generally in <span style="font-family: monospace; ">GROFF_TMAC_PATH</span>.

</p>
<p class=indent>
(Note that groff itself will not load either <span style="font-family: monospace; ">.troff2pagerc.tmac</span> or
<span style="font-family: monospace; ">jobname.t2p</span> automatically.  But that is presumably OK, since you are
using groff command-line options to specify the same information anyway, or
these files contain information that's only relevant for HTML.  If you do want
groff to pick up this file, you can use the option <span style="font-family: monospace; ">-m.troff2pagerc</span>.)

</p>
<p class=indent>
<a name="TAG:__troff2page_index_19"></a>
If the input file is recognizably a man page (i.e., it has the
command <span style="font-family: monospace; ">.TH</span>), both troff2page and groff will load, if it
exists, the init file <span style="font-family: monospace; ">man.local</span> in the home directory.

</p>
<p class=indent>
</p>
<h2 style="font-size: 130%"><a name="TAG:__pca_sec_3"></a>
Calling troff2page from within Lua</h2>
<p>
<a name="TAG:calling_troff2page_within_lua"></a>
<a name="TAG:__troff2page_index_20"></a>
The script <span style="font-family: monospace; ">troff2page</span> runs on the Unix command-line on Cygwin,
Linux, Mac
OS X, and Solaris.
For more installation information,
please see the file <a href="https://github.com/ds26gte/troff2page/blob/master/INSTALL.adoc"><span class=hreftext>INSTALL.adoc</span></a>
in the distribution.

</p>
<p class=indent>
However, it is not necessary to run the file <span style="font-family: monospace; ">troff2page</span> as a
Unix script.  You can simply load <span style="font-family: monospace; ">troff2page.lua</span> (<span style="font-family: monospace; ">troff2page</span> is a soft link
to the Lua file <span style="font-family: monospace; ">troff2page.lua</span>) into Lua, and then call the
Lua procedure <span style="font-family: monospace; ">troff2page</span> on your source document.  E.g.,

</p>
<p class=indent>

</p>
<p>
<p >
<p ><span style="font-family: monospace;&#xa0;">&#xa0;&#xa0;&#xa0;&#xa0;dofile('troff2page.lua')<br>
&#xa0;&#xa0;&#xa0;&#xa0;troff2page('my-troff-document.ms')<br>
<p>
</p>
</span><p>

</p>
<p class=indent>
The procedure <span style="font-family: monospace; ">troff2page</span> can be called
several times, on the same or different documents, with all the
same options as the script, from
within the same Lua session.

</p>
<p class=indent>
</p>
<h2 style="font-size: 130%"><a name="TAG:__pca_sec_4"></a>
Calling troff2page from Neovim</h2>
<p>
<a name="TAG:calling_troff2page_from_neovim"></a>
<a name="TAG:__troff2page_index_21"></a>
The text editor <a href="https://neovim.io"><span class=hreftext>Neovim</span></a> embeds Lua, so you can
run <span style="font-family: monospace; ">troff2page</span> directly during an editor session.
This can be a convenient way to convert your troff source while
you're editing it, or even to automate the process using
appropriate autocommands.

</p>
<p class=indent>
To set up, first copy the files <span style="font-family: monospace; ">lua/troff2page.lua</span> and
<span style="font-family: monospace; ">plugin/troff2page.vim</span> to subdirectories <span style="font-family: monospace; ">lua</span> and
<span style="font-family: monospace; ">plugin</span> respectively, somewhere in your Neovim
<span style="font-family: monospace; ">'runtimepath'</span>.  Alternatively, simple place a clone of the
<span style="font-family: monospace; ">troff2page</span> repo in a <span style="font-family: monospace; ">pack</span> subdirectory, somewhere in
your <span style="font-family: monospace; ">'runtimepath'</span> or <span style="font-family: monospace; ">'packpath'</span>.

</p>
<p class=indent>
You now have the Neovim command <span style="font-family: monospace; ">Troff2page</span> (not
capitalization!) which is called with the same style of arguments
as <span style="font-family: monospace; ">troff2page</span>, with one special case: If called with no
argument, the argument is assumed to be the name of the file in
the current window.
<div align=right class=navigation><i>[Go to <span><a class=hrefinternal href="index.html"><span class=hreftext>first</span></a>, <a class=hrefinternal href="index.html"><span class=hreftext>previous</span></a></span><span>, <a class=hrefinternal href="index-Z-H-2.html"><span class=hreftext>next</span></a></span> page<span>; &#xa0;&#xa0;</span><span><a class=hrefinternal href="index.html#TAG:__troff2page_toc"><span class=hreftext>contents</span></a></span><span><span>; &#xa0;&#xa0;</span><a class=hrefinternal href="index-Z-H-10.html#TAG:__troff2page_index"><span class=hreftext>index</span></a></span>]</i></div>
</p>
</div>
</body>
</html>
