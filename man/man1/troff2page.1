.TH TROFF2PAGE 1 "2020-11-16" \" last modified
.nh
.ad l
.SH NAME

troff2page \- makes Web pages from troff documents

.SH SYNOPSIS

    troff2page [options] [pathnames]

.SH DESCRIPTION

troff2page converts troff (\fI-man\fP and \fI-ms\fP) documents into HTML web
pages and Info documents. E.g.,

    troff2page jobname.ms

creates an output HTML document that consists of \fIjobname.html\fP
and possibly other files \fIjobname-Z-H-1.html\fP,
\fIjobname-Z-H-2.html\fP, etc., which are linked by navigation to
\fIjobname.html\fP.

.SH OPTIONS

troff2page accepts many groff options. For example,

    troff2page --version

displays the troff2page version.

    troff2page --help

displays the version and a pointer to the comprehensive online
manual, http://ds26gte.github.io/troff2page/index.html, whose troff
source is included in the troff2page distribution.

The \fI-v\fP and \fI-h\fP options are short for \fI--help\fP and
\fI--version\fP respectively.

The options \fI-m\fP, \fI-r\fP, and \fI-d\fP respectively load macro files, set
registers, and define strings, just as in groff. troff2page also accepts groff
options that are not relevant to it, if only to ignore them. Please see the
groff man page for further information on options.

Arguments that don’t look like options are treated as pathnames. The option
\fI--\fP marks the end of options, implying that the remaining arguments are to
be treated as pathnames (even if they look like options).

If there is only one pathname argument \fIjobname.ext\fP, it is converted to
\fIjobname.html\fP (and possibly other aux HTML files) as described above.

If there is more than one pathname argument, their content is concatenated to
produce the output HTML file(s), whose name is fashioned from the final
pathname argument.

If there are no pathname arguments, and the \fI--help\fP or \fI--version\fP
options were not used, troff2page exits with a “called with no argument”
message.

However, additional information may be fed to troff2page via the
specially named macro file \fI.troff2pagerc.tmac\fP. Thus, a \fI-mpca\fP
groff option would translate to the line

    .mso pca.tmac

in \fI.troff2pagerc.tmac\fP.

troff2page loads \fI.troff2pagerc.tmac\fP, if it can find it in the
macro directories, before processing its argument file.

Note that groff itself does not load \fI.troff2pagerc.tmac\fP
automatically.  But that is presumably OK, since you are using
groff command-line options to specify the same information
anyway.  If you do want groff to pick up this file, you can use
the option \fI-m.troff2pagerc\fP.

If the input file is recognizably a man page (i.e., it has the
command \fI.TH\fP), both troff2page and groff will load, if it
exists, the init file \fIman.local\fP in the home directory.

.SH COMMANDS

troff2page recognizes most of the commands (requests, macros,
diversions, strings, escapes, glyphs) of raw troff and its \fI-ms\fP
and \fI-man\fP macro packages. The syntax recognized is the improved
kind supported by groff (http://gnu.org/software/groff) and Heirloom
troff (http://github.com/n-t-roff/heirloom-doctools), i.e., macro,
string, and glyph names can be arbitrarily long, and strings can
have arguments.  Most of the commands are converted to their
obvious HTML equivalent.  E.g., \fI-ms\fP’s footnotes have a
straightforward translation in the HTML, with the footnote text
set at the bottom of the HTML page, and with the footnote markers
in the body and the footnote hyperlinking to each other.  Please
consult troff and groff documentation for the commands.

The troff2page distribution also includes the \fImpca\fP submodule
that contains several useful macro files. Both groff and
troff2page can process these macro files, and give compatible
results. Please see the troff2page manual for further details.

.SH NEOVIM

If the files \fIlua/troff2page.lua\fP and \fIplugin/troff2page.vim\fP are
installed in your Neovim path, you can use the command \fI:Troff2page\fP to
convert files directly from Neovim.

The \fI:Troff2page\fP accepts the same style of arguments as the \fItroff2page\fP
script. In addition, if called with no arguments, \fI:Troff2page\fP will convert the
file in the current window.

.SH INFO DOCS

You can call the macro

  .troff2page2info

within your document to signal to troff2page that it should also
create an Info document.

A good place to place the \fI.troff2page2info\fP call is in your
\fI.troff2pagerc.tmac\fP file, as it is relevant only to troff2page
and not to groff.

If you’re sure you always want an Info file for whatever document
you give to \fCtroff2page\fP, set the environment variable
\fCTROFF2PAGE2INFO\fP (the value doesn’t matter):

  export TROFF2PAGE2INFO=always

.SH SYSTEM REQUIREMENTS

\fItroff2page\fP requires Lua. For more information, please see the
file \fIINSTALL.adoc\fP in the
distribution.

.SH AVAILABILITY

troff2page is downloadable from http://github.com/ds26gte/troff2page.

.SH SEE ALSO

groff(1), groff_tmac(5), groff_man(7), groff_ms(7), lua(1), nvim(1)
